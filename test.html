<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reusable Popup Component - Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet" />

    <!-- Include the Popup CSS -->
    <style>
      /* === REUSABLE POPUP CSS === */
      .popup-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.25s ease, visibility 0.25s ease;
        z-index: 1000;
      }
      .popup-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .popup-wrapper {
        position: fixed;
        inset: 0;
        display: grid;
        place-items: center;
        visibility: hidden;
        pointer-events: none;
        z-index: 1001;
        padding: 20px;
      }
      .popup-wrapper.active {
        visibility: visible;
        pointer-events: none;
      }

      .popup-modal {
        width: min(92vw, var(--popup-width, 500px));
        max-height: 90vh;
        background: var(--popup-bg, #fff);
        border: 1px solid var(--popup-border, rgba(0, 0, 0, 0.1));
        border-radius: var(--popup-radius, 16px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        transform: translateY(12px) scale(0.96);
        opacity: 0;
        transition: transform 0.28s cubic-bezier(0.2, 0.7, 0.2, 1),
          opacity 0.28s ease;
        overflow: hidden;
        pointer-events: auto;
        color: var(--popup-text, #333);
      }
      .popup-modal.active {
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      .popup-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--popup-header-padding, 16px 20px);
        border-bottom: 1px solid var(--popup-border, rgba(0, 0, 0, 0.1));
        background: var(--popup-header-bg, transparent);
      }
      .popup-title {
        font-weight: 600;
        margin: 0;
        font-size: var(--popup-title-size, 18px);
        color: var(--popup-title-color, inherit);
      }
      .popup-close {
        border: none;
        background: transparent;
        color: var(--popup-close-color, #666);
        font-size: 24px;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: 8px;
        transition: background 0.2s ease;
      }
      .popup-close:hover {
        background: var(--popup-close-hover, rgba(0, 0, 0, 0.1));
      }

      .popup-body {
        padding: var(--popup-body-padding, 20px);
        overflow-y: auto;
        max-height: calc(90vh - 80px);
      }

      @keyframes popupSlideIn {
        from {
          transform: translateY(20px) scale(0.95);
          opacity: 0;
        }
        to {
          transform: translateY(0) scale(1);
          opacity: 1;
        }
      }

      /* === DEMO STYLES === */
      :root {
        --popup-bg: #0f172a;
        --popup-border: rgba(255, 255, 255, 0.1);
        --popup-text: #e2e8f0;
        --popup-title-color: #f1f5f9;
        --popup-close-color: #94a3b8;
        --popup-close-hover: rgba(255, 255, 255, 0.1);
        --popup-header-bg: rgba(255, 255, 255, 0.02);
      }

      body {
        font-family: Inter, sans-serif;
        background: linear-gradient(135deg, #1e293b, #0f172a);
        color: #e2e8f0;
        margin: 0;
        padding: 40px 20px;
        min-height: 100vh;
      }

      .demo-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .demo-buttons {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
        margin: 30px 0;
      }

      .demo-btn {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        border: none;
        color: white;
        padding: 12px 24px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        transition: transform 0.2s ease;
      }

      .demo-btn:hover {
        transform: translateY(-2px);
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .demo-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .demo-card:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateY(-4px);
      }

      .demo-form {
        display: grid;
        gap: 16px;
      }

      .demo-input {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 12px 16px;
        border-radius: 8px;
        color: #e2e8f0;
        font-size: 14px;
      }

      .demo-textarea {
        min-height: 100px;
        resize: vertical;
      }

      h1 {
        color: #f1f5f9;
        margin-bottom: 10px;
      }
      h2 {
        color: #cbd5e1;
        margin-top: 30px;
      }
      p {
        color: #94a3b8;
        line-height: 1.6;
      }
      code {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        color: #fbbf24;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <h1>Reusable Popup Component</h1>
      <p>একটি flexible popup component যেটা যেকোনো project এ reuse করা যায়।</p>

      <h2>Demo Examples:</h2>

      <div class="demo-buttons">
        <button class="demo-btn" onclick="showSimplePopup()">
          Simple Popup
        </button>
        <button class="demo-btn" onclick="showFormPopup()">Form Popup</button>
        <button class="demo-btn" onclick="showImagePopup()">Image Popup</button>
        <button class="demo-btn" onclick="showCustomPopup()">
          Custom Content
        </button>
        <button class="demo-btn" onclick="showConfirmPopup()">
          Confirm Dialog
        </button>
      </div>

      <h2>Click Cards for Dynamic Popups:</h2>
      <div class="demo-grid">
        <div
          class="demo-card"
          onclick="showProductPopup('Laptop', '৮৫,০০০ টাকা')">
          <h3>Gaming Laptop</h3>
          <p>High performance laptop</p>
        </div>
        <div
          class="demo-card"
          onclick="showProductPopup('Phone', '৪৫,০০০ টাকা')">
          <h3>Smartphone</h3>
          <p>Latest Android phone</p>
        </div>
        <div
          class="demo-card"
          onclick="showProductPopup('Headphones', '১২,০০০ টাকা')">
          <h3>Wireless Headphones</h3>
          <p>Premium audio quality</p>
        </div>
      </div>

      <h2>Usage Instructions:</h2>
      <p>নিচে documentation দেখুন কিভাবে এটি আপনার project এ use করবেন।</p>
    </div>

    <!-- Popup HTML Structure -->
    <div id="popup-overlay" class="popup-overlay"></div>
    <div id="popup-wrapper" class="popup-wrapper">
      <div id="popup-modal" class="popup-modal">
        <div class="popup-header">
          <h3 id="popup-title" class="popup-title">Popup Title</h3>
          <button id="popup-close" class="popup-close" type="button">
            &times;
          </button>
        </div>
        <div id="popup-body" class="popup-body">
          <!-- Dynamic content goes here -->
        </div>
      </div>
    </div>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Reusable Popup JavaScript -->
    <script>
      /* === REUSABLE POPUP COMPONENT === */
      class EasyPopup {
        constructor(options = {}) {
          this.options = {
            closeOnOutsideClick: options.closeOnOutsideClick || false,
            closeOnEscape: options.closeOnEscape !== false, // default true
            width: options.width || "500px",
            animation: options.animation !== false, // default true
            ...options,
          };

          this.isOpen = false;
          this.init();
        }

        init() {
          // Set CSS custom properties
          document.documentElement.style.setProperty(
            "--popup-width",
            this.options.width
          );

          // Event listeners
          $("#popup-close").on("click", () => this.close());

          if (this.options.closeOnEscape) {
            $(document).on("keydown.popup", (e) => {
              if (e.key === "Escape" && this.isOpen) this.close();
            });
          }

          if (this.options.closeOnOutsideClick) {
            $("#popup-overlay").on("click", () => this.close());
          }
        }

        open(title, content, options = {}) {
          const finalOptions = { ...this.options, ...options };

          // Set content
          $("#popup-title").text(title);
          $("#popup-body").html(content);

          // Apply width if specified
          if (finalOptions.width) {
            document.documentElement.style.setProperty(
              "--popup-width",
              finalOptions.width
            );
          }

          // Show popup
          $("#popup-overlay").addClass("active");
          $("#popup-wrapper").addClass("active");

          if (finalOptions.animation) {
            setTimeout(() => $("#popup-modal").addClass("active"), 10);
          } else {
            $("#popup-modal").addClass("active");
          }

          this.isOpen = true;

          // Callback
          if (finalOptions.onOpen) finalOptions.onOpen();

          return this;
        }

        close(options = {}) {
          $("#popup-modal").removeClass("active");

          setTimeout(() => {
            $("#popup-overlay").removeClass("active");
            $("#popup-wrapper").removeClass("active");
            this.isOpen = false;

            // Callback
            if (options.onClose) options.onClose();
          }, 250);

          return this;
        }

        confirm(title, message, onConfirm, onCancel) {
          const content = `
                    <p style="margin-bottom: 24px; font-size: 16px;">${message}</p>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button onclick="popup.close()" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #e2e8f0; padding: 10px 20px; border-radius: 8px; cursor: pointer;">Cancel</button>
                        <button onclick="popup.close(); (${onConfirm.toString()})()" style="background: #ef4444; border: none; color: white; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">Confirm</button>
                    </div>
                `;
          return this.open(title, content, { width: "400px" });
        }
      }

      // Initialize popup instance
      const popup = new EasyPopup({
        closeOnOutsideClick: false,
        closeOnEscape: true,
        width: "500px",
      });

      /* === DEMO FUNCTIONS === */
      function showSimplePopup() {
        popup.open(
          "Simple Popup",
          "<p>এটি একটি simple popup example। এখানে যেকোনো HTML content থাকতে পারে।</p>"
        );
      }

      function showFormPopup() {
        const formContent = `
                <form class="demo-form" onsubmit="handleFormSubmit(event)">
                    <input type="text" placeholder="Your Name" class="demo-input" required>
                    <input type="email" placeholder="Your Email" class="demo-input" required>
                    <textarea placeholder="Your Message" class="demo-input demo-textarea" required></textarea>
                    <button type="submit" class="demo-btn" style="margin-top: 8px;">Submit Form</button>
                </form>
            `;
        popup.open("Contact Form", formContent, { width: "600px" });
      }

      function showImagePopup() {
        const imageContent = `
                <img src="https://images.unsplash.com/photo-1516387938699-a93567ec168e?q=80&w=600&auto=format&fit=crop" 
                     style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 16px;" alt="Demo Image">
                <p><strong>Beautiful Image</strong></p>
                <p>এটি একটি image popup এর example। এখানে gallery বা product images দেখানো যেতে পারে।</p>
            `;
        popup.open("Image Gallery", imageContent, { width: "700px" });
      }

      function showCustomPopup() {
        const customContent = `
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 16px;">🎉</div>
                    <h2 style="color: #10b981; margin: 0 0 16px;">Congratulations!</h2>
                    <p>আপনি successfully popup component টি test করেছেন।</p>
                    <div style="margin-top: 24px;">
                        <button onclick="popup.close()" class="demo-btn">Awesome!</button>
                    </div>
                </div>
            `;
        popup.open("Success Message", customContent, { width: "450px" });
      }

      function showConfirmPopup() {
        popup.confirm(
          "Confirm Action",
          "আপনি কি নিশ্চিত যে এই action টি করতে চান?",
          function () {
            alert("Confirmed! Action completed.");
          }
        );
      }

      function showProductPopup(product, price) {
        const productContent = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 50%; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; font-size: 32px;">📱</div>
                    <h3 style="margin: 0 0 8px; color: #f1f5f9;">${product}</h3>
                    <p style="font-size: 24px; font-weight: 600; color: #10b981; margin: 0 0 16px;">${price}</p>
                    <p style="margin-bottom: 24px;">এটি একটি dynamic popup example যেখানে product information দেখানো হচ্ছে।</p>
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button onclick="popup.close()" class="demo-btn" style="background: rgba(255,255,255,0.1);">View Details</button>
                        <button onclick="popup.close()" class="demo-btn">Add to Cart</button>
                    </div>
                </div>
            `;
        popup.open(product + " Details", productContent, { width: "450px" });
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        alert("Form submitted! (এটি একটি demo)");
        popup.close();
      }
    </script>
  </body>
</html>
